<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Future Link - Customer List (Full Info)</title>
    <style>
        * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: #121212; color: white; padding: 10px; margin: 0; }
        .header { text-align: center; color: #3498db; font-size: 22px; margin: 20px 0; font-weight: bold; }
        
        .search-box { width: 100%; padding: 12px; margin-bottom: 20px; border-radius: 8px; background: #1e272e; color: white; border: 1px solid #34495e; outline: none; font-size: 15px; }

        /* ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .card { background: #1e272e; padding: 15px; border-radius: 12px; margin-bottom: 12px; border-left: 5px solid #3498db; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .customer-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
        .name { font-size: 18px; font-weight: bold; color: #ffffff; }
        .date { font-size: 11px; color: #3498db; }
        
        .address { font-size: 13px; color: #bdc3c7; margin-bottom: 10px; display: block; }
        
        /* ‡¶ñ‡¶∞‡¶ö‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡¶ø‡¶° */
        .details-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; background: rgba(255,255,255,0.05); padding: 10px; border-radius: 8px; }
        .detail-item { font-size: 12px; color: #ecf0f1; }
        .detail-item span { font-weight: bold; color: #2ecc71; } /* ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶∞‡¶ô‡ßá */
    </style>
</head>
<body>

    <div class="header">üìã ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ (Live)</div>
    
    <input type="text" class="search-box" id="searchBox" placeholder="üîé ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...">

    <div id="listView">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡¶æ‡ßü‡¶æ‡¶∞‡¶¨‡ßá‡¶∏ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó
        const firebaseConfig = { 
            databaseURL: "https://future-link-admin-default-rtdb.firebaseio.com/" 
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const dataRef = ref(db, 'future_link_v9');

        onValue(dataRef, (snapshot) => {
            window.fullData = snapshot;
            render();
        });

        window.render = function() {
            let search = document.getElementById('searchBox').value.toLowerCase();
            let html = "";
            
            if (!window.fullData || !window.fullData.exists()) {
                document.getElementById('listView').innerHTML = "<p style='text-align:center; color:gray;'>‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø</p>";
                return;
            }

            window.fullData.forEach((child) => {
                let item = child.val();
                if(item.name.toLowerCase().includes(search)) {
                    html += `
                        <div class="card">
                            <div class="customer-header">
                                <div class="name">${item.name}</div>
                                <div class="date">${item.date}</div>
                            </div>
                            <span class="address">üìç ${item.address || '‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶®‡ßá‡¶á'}</span>
                            
                            <div class="details-grid">
                                <div class="detail-item">üí∞ ‡¶∞‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶ú: <span>${item.recharge}‡ß≥</span></div>
                                <div class="detail-item">üõ† ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏: <span>${item.service || 0}‡ß≥</span></div>
                                <div class="detail-item">üßµ ‡¶´‡¶æ‡¶á‡¶¨‡¶æ‡¶∞: <span>${item.fiber || 0}‡ß≥</span></div>
                                <div class="detail-item">üîå ‡¶Ö‡¶®‡ßÅ: <span>${item.onu || 0}‡ß≥</span></div>
                            </div>
                        </div>`;
                }
            });
            document.getElementById('listView').innerHTML = html;
        };

        document.getElementById('searchBox').addEventListener('input', render);
    </script>
</body>
</html>
